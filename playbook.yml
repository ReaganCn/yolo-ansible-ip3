---
- hosts: all
  become: yes

  pre_tasks:
  - name: Update apt cache if needed
    apt: update_cache=yes cache_valid=3600

  - name: "Install git"
    apt: 
      state: present
      name: git
  
  - name: "Clone repository"
    git:
      repo: https://github.com/ReaganCn/yolo.git
      dest: /opt/yolo
      clone: yes
      update: yes
  
  roles:
    - docker-setup
    - client
    - backend
    - mongodb
